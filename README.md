# Описание

Телеграм бот для организации дежурств инженеров

![](https://raw.githubusercontent.com/zam-zam/python-duty-bot/readme/01.gif)

## Как это работает

- У инженеров есть свой внутренний чат, в котором назначаются дежурные и видны обращения поддерживаемых команд
- У каждой поддерживаемой команды есть свой командый чат, в котором также состоят все инженеры. Члены команды тегают бота и описывают проблему, после чего бот в чате инженеров тегает дежурного и отправляет ссылку на сообщение в командом чате

Таким образом:
- У команд есть единая точка входа по вопросам к инженерам
- У инженеров всегда есть контекст текущих проблем и задач команд
- В чатах команд инженеры отключают уведомления, чтобы не отвлекаться от своих текущих задач, а дежурный получает уведомления в чат инженеров и реагирует на них


# Быстрый старт

1. `docker build -t python-duty-bot .`
2. `cp .env.example .env`
3. `vi .env` - задать значения переменных окружения. ID пользователей и чатов можно найти через https://web.telegram.org/ в адресной строке
4. `docker run --rm --env-file .env -v python_duty_bot_data:/python_duty_bot/data/ python-duty-bot`
5. Добавить бота в чат инженеров и в чаты поддерживаемых комманд. Бот должен иметь доступ к сообщениям
6. В чате дежурных инженеров выполнить команды `/start`, `/take`
7. В чате поддерживаемой команды тегнуть бота и описать проблему - в чате инженеров бот тегнет дежурного и отправит ссылку на сообщение, требующее внимание
